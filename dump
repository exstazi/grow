-- TOKEN (Redan maskerad i detta exempel)
local token = "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"
local gistFilename = "grow_a_garden_dump.lua"
local HttpService = game:GetService("HttpService")

local output = {}
local addedStrings = {}

-- 1. Dumpa alla konstanter fr√•n funktioner
for _, f in pairs(getgc(true)) do
    if typeof(f) == "function" and not is_synapse_function(f) then
        local ok, consts = pcall(getconstants, f)
        if ok then
            for _, c in pairs(consts) do
                if typeof(c) == "string" and not addedStrings[c] then
                    table.insert(output, "üß† Konstans: " .. c)
                    addedStrings[c] = true
                end
            end
        end
    end
end

-- 2. RemoteEvents/Functions
for _, obj in pairs(game:GetDescendants()) do
    if obj:IsA("RemoteEvent") or obj:IsA("RemoteFunction") then
        table.insert(output, "üì° Remote: " .. obj:GetFullName())
    end
end

-- 3. GUI-knappar
for _, gui in pairs(game:GetDescendants()) do
    if gui:IsA("TextButton") or gui:IsA("ImageButton") then
        table.insert(output, "üñ±Ô∏è Knapp: " .. gui:GetFullName())
    end
end

-- 4. ModuleScripts
for _, mod in pairs(game:GetDescendants()) do
    if mod:IsA("ModuleScript") then
        table.insert(output, "üìö Modul: " .. mod:GetFullName())
    end
end

-- G√∂r en Gist payload
local data = {
    description = "Grow a Garden - Kommando & Interaktionsdump",
    public = false,
    files = {
        [gistFilename] = {
            content = table.concat(output, "\n")
        }
    }
}

-- Skicka till GitHub Gist
local response = syn.request({
    Url = "https://api.github.com/gists",
    Method = "POST",
    Headers = {
        ["Authorization"] = "Bearer " .. token,
        ["Content-Type"] = "application/json"
    },
    Body = HttpService:JSONEncode(data)
})

-- Visa Gist-l√§nk
if response.StatusCode == 201 then
    local body = HttpService:JSONDecode(response.Body)
    setclipboard(body.html_url)
    print("[‚úî] Dump uppladdad: " .. body.html_url)
    rconsoleprint("@@GREEN@@[‚úî] Gist skapad: " .. body.html_url .. "@@RESET@@\n")
else
    warn("[‚úò] Uppladdning misslyckades!")
    warn(response.StatusCode, response.Body)
end
